\hypertarget{state__machine_8cpp}{}\doxysection{src/state\+\_\+machine.cpp File Reference}
\label{state__machine_8cpp}\index{src/state\_machine.cpp@{src/state\_machine.cpp}}


The state\+\_\+machine node is a sort of the \char`\"{}main\char`\"{} in the entire architecture\+: it is connected with all the other nodes (/user\+\_\+interface, /position\+\_\+server and /go\+\_\+to\+\_\+point). The scope of this node is to get the command from the /user\+\_\+interface node via the Command server custom message. If the command is equal to \char`\"{}start\char`\"{}, steate\+\_\+machine node sends a request to the /position\+\_\+server node in order to get a random position in a defined interval. This position will be used to set the parameters for the position to reach via a Position service custom message that is sent to /go\+\_\+to\+\_\+point node which will move the robot. Then there\textquotesingle{}s a loop in which this node verify that command is not \char`\"{}start\char`\"{} anymore, in this case it stops sending new target position to the robot. The code is developped as a R\+O\+S2 component in order to load it in a rt2\+\_\+assignment1 container.  


{\ttfamily \#include $<$chrono$>$}\newline
{\ttfamily \#include $<$functional$>$}\newline
{\ttfamily \#include $<$memory$>$}\newline
{\ttfamily \#include $<$inttypes.\+h$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$cinttypes$>$}\newline
{\ttfamily \#include $<$cstdlib$>$}\newline
{\ttfamily \#include \char`\"{}rclcpp/rclcpp.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rclcpp\+\_\+components/register\+\_\+node\+\_\+macro.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/srv/position.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/srv/command.\+hpp\char`\"{}}\newline
{\ttfamily \#include \char`\"{}rt2\+\_\+assignment1/srv/random\+\_\+position.\+hpp\char`\"{}}\newline
Include dependency graph for state\+\_\+machine.\+cpp\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{state__machine_8cpp__incl}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classrt2__assignment1_1_1_state_machine}{rt2\+\_\+assignment1\+::\+State\+Machine}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The state\+\_\+machine node is a sort of the \char`\"{}main\char`\"{} in the entire architecture\+: it is connected with all the other nodes (/user\+\_\+interface, /position\+\_\+server and /go\+\_\+to\+\_\+point). The scope of this node is to get the command from the /user\+\_\+interface node via the Command server custom message. If the command is equal to \char`\"{}start\char`\"{}, steate\+\_\+machine node sends a request to the /position\+\_\+server node in order to get a random position in a defined interval. This position will be used to set the parameters for the position to reach via a Position service custom message that is sent to /go\+\_\+to\+\_\+point node which will move the robot. Then there\textquotesingle{}s a loop in which this node verify that command is not \char`\"{}start\char`\"{} anymore, in this case it stops sending new target position to the robot. The code is developped as a R\+O\+S2 component in order to load it in a rt2\+\_\+assignment1 container. 

\begin{DoxyAuthor}{Author}
Alessio Roda 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
May 2021 
\end{DoxyDate}
